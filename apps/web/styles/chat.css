/* 대화 로그 */
#log{
  position:fixed; left:0; right:0; bottom:64px;
  max-height:40dvh; overflow:auto; -webkit-overflow-scrolling: touch;
  background:rgba(0,0,0,.35); color:#fff; padding:8px;
  font:14px/1.5 system-ui; z-index:9999;
}
#log p{ margin:.25rem 0 }

/* 하단 채팅 바 */
#chatbar{
  position:fixed; left:0; right:0; bottom:0;
  background:rgba(0,0,0,.55);
  padding:8px;
  padding-bottom: calc(8px + env(safe-area-inset-bottom));
  display:flex; gap:8px; align-items:center;
  z-index:9999;
}
#chatbar input{
  flex:1; padding:10px; border-radius:8px; border:1px solid #2a2d37;
  background:#111; color:#fff; outline:none;
}
#chatbar input:focus{
  border-color:#3b82f6; box-shadow:0 0 0 2px rgba(59,130,246,.35);
}

/* 버튼 */
#mic,#send{
  padding:10px 12px; border-radius:8px; border:none;
  background:#1e90ff; color:#fff; touch-action: manipulation; cursor:pointer;
}
#mic:hover,#send:hover{ filter:brightness(1.05) }
#mic:active,#send:active{ transform:translateY(1px) }
#mic:disabled,#send:disabled{ opacity:.6; cursor:not-allowed }

/* 화면을 100% 채우고 스크롤 방지 */
html, body { margin:0; height:100%; overflow:hidden; background:#000; }
a-scene { position:fixed; inset:0; width:100vw; height:100dvh !important; }
canvas, .a-canvas { width:100vw !important; height:100dvh !important; display:block; }

/* iOS 대체 */
@supports (-webkit-touch-callout: none) {
  a-scene, canvas, .a-canvas { height: -webkit-fill-available !important; }
}

/* VR 버튼 숨김(일부 브라우저) */
.a-enter-vr, .a-enter-vr-button { display:none !important; }

/* 음성 인식 모달 */
.voicemodal.hidden { display:none; }
.voicemodal{
  position:fixed; inset:0; background:rgba(0,0,0,.5);
  display:flex; align-items:center; justify-content:center; z-index:99999;
}
.voicemodal .panel{
  width:min(92vw, 520px); background:#101114; color:#fff; border-radius:14px;
  padding:14px; box-shadow:0 10px 30px rgba(0,0,0,.4);
}
.voicemodal .header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.voicemodal .header button{ background:transparent; color:#aaa; border:0; font-size:18px; cursor:pointer; }
.voicemodal .status{ font:13px/1.4 system-ui; color:#7da6ff; margin:6px 0 8px; }
.voicemodal textarea{
  width:100%; border-radius:10px; border:1px solid #2a2d37; background:#0b0c0f; color:#fff; padding:10px;
}
.voicemodal .actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:10px; }
.voicemodal .actions button{
  height:36px; padding:0 12px; border-radius:10px; border:0; cursor:pointer;
}
#voiceStart{ background:#2d7eff; color:#fff; }
#voiceStop{ background:#444; color:#fff; }
#voiceApply{ background:#19c37d; color:#08120d; }
